---
layout: post
pagination: 
  enabled: true
type: tech
date: 2024-05-11 15:18
category: Blog
title: Unityì™€ Fake Null
subtitle: Unity í”„ë¡œê·¸ë˜ë°ì„ í•  ë•Œ, ë§Œë‚  ìˆ˜ ìˆëŠ” Fake nullì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤.
writer: KimYC1223
post-header: true
header-img: bg.png
image: title.png
tags: [Unity]
draft : false
---

{% capture img_url %}/assets/blog/{{page.date | date: "%Y-%m-%d"}}-TechPost{% endcapture %}

Unityì˜ <span class="post-highlight">Fake null</span>ì„ ì•Œê³  ìˆëŠ”ê°€?

**<span class="post-highlight">Fake null</span>ì´ë€ Unityì—ì„œ ê°™ì€ Objectë¥¼ `UnityObject`ë¡œì„œ `null` ì²´í¬ë¥¼ í–ˆì„ ë•Œì™€**

**`System.Object`ë¡œì„œ `null`ì²´í¬ë¥¼ í–ˆì„ ë•Œ, ê°’ì´ ë‹¤ë¥´ê²Œ ë‚˜ì˜¤ëŠ” í˜„ìƒì„ ë§í•œë‹¤.**

<br>

Fake Nullì´ ì •í™•íˆ ì–´ë–¤ ê²ƒì¸ì§€ íŒŒì•…í•˜ê¸° ìœ„í•´, ì•„ë˜ì— ê°„ë‹¨í•œ Unity í”„ë¡œê·¸ë˜ë° í€´ì¦ˆë¥¼ 13ê°œ ì¤€ë¹„í–ˆë‹¤.

<br>

---

<span class="post-h1">ğŸ“ ê°„ë‹¨í•œ Unity Quiz Time</span>

<br>

ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼, Sceneì— **`TestGameObject`**ë¼ëŠ” ë¹ˆ GameObjectë¥¼ ë§Œë“¤ê³ ,

**`QuizClass`**ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í–ˆë‹¤.

<center>
<img src="{{img_url}}/img_0.png" style="width:482px; max-width:100%">
<figcaption style="margin-top:-20px;">Quiz Classë¥¼ ê°€ì§€ê³  ìˆëŠ” GameObject</figcaption>
</center>

`QuizClass`ëŠ” **`QuizObject`**ë¼ëŠ” **public GameObject** ë³€ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆëŠ”ë°,

<span style="color:#0008FF;"><b>ì¸ìŠ¤í™í„°ì—ì„œ ì´ QuizObjectì— ê°’ì„ ë„£ì–´ì£¼ì§€ ì•Šì•˜ë‹¤ê³  í•˜ì.</b></span>

ì´ ìƒí™©ì„ ë¨¸ë¦¿ì†ì— ê¸°ì–µí•´ ë‘ê³ , ë‹¤ìŒ ì§ˆë¬¸ì— ë‹µí•˜ì—¬ë¼

<br>

## Quiz 0ï¸âƒ£0ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ, 

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 0 . ì—ëŸ¬ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        if ( QuizObject == null )
        {
            QuizObject = this.gameObject;
        }

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 0 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:green;font-weight:bold; font-size:20px">ì •ë‹µì€ ... O</span>
<center>
<img src="{{img_url}}/quiz_0.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£1ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ, 

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 1 . ì—ëŸ¬ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        if ( QuizObject is null )
        {
            QuizObject = this.gameObject;
        }

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 1 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:red;font-weight:bold; font-size:20px">ì •ë‹µì€ ... X</span>
<center>
<img src="{{img_url}}/quiz_1.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£2ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 2 . ì—ëŸ¬ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        if ( object.ReferenceEquals(QuizObject, null) )
        {
            QuizObject = this.gameObject;
        }

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 2 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:red;font-weight:bold; font-size:20px">ì •ë‹µì€ ... X</span>
<center>
<img src="{{img_url}}/quiz_2.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£3ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 3 . ì—ëŸ¬ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = QuizObject ? QuizObject : this.gameObject;

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 3 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:green;font-weight:bold; font-size:20px">ì •ë‹µì€ ... O</span>
<center>
<img src="{{img_url}}/quiz_3.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£4ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 4 . ì—ëŸ¬ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = QuizObject ?? this.gameObject;

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 4 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:red;font-weight:bold; font-size:20px">ì •ë‹µì€ ... X</span>
<center>
<img src="{{img_url}}/quiz_4.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£5ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 5 . ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        if(!QuizObject)
        {
            QuizObject = this.gameObject;
        }

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 5 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:green;font-weight:bold; font-size:20px">ì •ë‹µì€ ... O</span>
<center>
<img src="{{img_url}}/quiz_5.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£6ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 6 . ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = new GameObject("GO.6");
        Destroy(QuizObject);

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 6 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:green;font-weight:bold; font-size:20px">ì •ë‹µì€ ... O</span>
<center>
<img src="{{img_url}}/quiz_6.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£7ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 7 . ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = new GameObject("GO.7");
        DestroyImmediate(QuizObject);

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 7 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:red;font-weight:bold; font-size:20px">ì •ë‹µì€ ... X</span>
<center>
<img src="{{img_url}}/quiz_7.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£8ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 8 . ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = new GameObject("GO.8");
        Destroy(this.gameObject);

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 8 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:green;font-weight:bold; font-size:20px">ì •ë‹µì€ ... O</span>
<center>
<img src="{{img_url}}/quiz_8.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 0ï¸âƒ£9ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 9 . ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = new GameObject("GO.9");
        DestroyImmediate(this.gameObject);

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 9 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:green;font-weight:bold; font-size:20px">ì •ë‹µì€ ... O</span>
<center>
<img src="{{img_url}}/quiz_9.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 1ï¸âƒ£0ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 10 . ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = new GameObject("GO.10");
        DestroyImmediate(QuizObject);
        
        if(QuizObject == null)
        {
            QuizObject = this.gameObject;
        }

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 10 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:green;font-weight:bold; font-size:20px">ì •ë‹µì€ ... O</span>
<center>
<img src="{{img_url}}/quiz_10.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 1ï¸âƒ£1ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 11 . ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = new GameObject("GO.11");
        DestroyImmediate(QuizObject);
        
        if(QuizObject is null)
        {
            QuizObject = this.gameObject;
        }

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 11 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:red;font-weight:bold; font-size:20px">ì •ë‹µì€ ... X</span>
<center>
<img src="{{img_url}}/quiz_11.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

## Quiz 1ï¸âƒ£2ï¸âƒ£

ë§Œì•½ `QuizClass`ì˜ ë‚´ìš©ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ,

<span style="color:red;"><b>ì—ëŸ¬ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ê°€?</b></span> *(usingë¬¸ ìƒëµ)*

``` cs
public class QuizClass : MonoBehaviour
{
    public GameObject QuizObject;

    //=====================================================
    // Quiz 12 . ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ? O / X
    //=====================================================
    private void Start()
    {
        QuizObject = new GameObject("GO.12");
        DestroyImmediate(QuizObject);
        
        if( object.ReferenceEquals(QuizObject, null) )
        {
            QuizObject = this.gameObject;
        }

        Debug.Log(QuizObject.name);
    }
}
```

<details>
<summary><span style="font-size:16px; color:#454545; cursor:pointer">Quiz 12 ì •ë‹µë³´ê¸°</span></summary>
<span style="color:red;font-weight:bold; font-size:20px">ì •ë‹µì€ ... X</span>
<center>
<img src="{{img_url}}/quiz_12.png" style="width:606px; max-width:100%; margin:5px 0px !important;">
</center>
</details>

<br>

---

<span class="post-h1">FAKE NULL</span>

ë¬¸ì œë¥¼ ë§ì´ ë§ì¶”ì—ˆëŠ”ê°€?

ìœ„ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ”, <span class="post-hightlight">Fake null</span>ì´ë¼ëŠ” í˜„ìƒì„ ì´í•´í•´ì•¼ í•œë‹¤.

Unityì—ì„œ ë§Œë“  ê°ì²´ëŠ” `UnityEngine.Object`ë¥¼ ìƒì† ë°›ê³  ìˆìœ¼ë©°,

ëª¨ë“  Unity ê°ì²´ë“¤ì˜ ë¶€ëª¨ì¸ `UnityEngine.Object` ë˜í•œ C# í´ë˜ìŠ¤ ì´ë¯€ë¡œ, `System.object`ë¥¼ ìƒì†ë°›ê³  ìˆë‹¤.

<br>

<span style="color:red; font-weight:bold;">ì™œ ì´ë ‡ê²Œ 2ê°€ì§€ objectë¥¼ ì‚¬ìš©í•˜ë„ë¡ í–ˆëŠ”ê°€?</span>

ìœ ë‹ˆí‹° ì—”ì§„ì€ **C++**ë¡œ ë§Œë“¤ì–´ì ¸ìˆê¸° ë•Œë¬¸ì´ë‹¤.

ë‹¤ë§Œ, ìœ ë‹ˆí‹°ì—ì„œ .NET APIë¥¼ ë…¸ì¶œí•´ì£¼ì—ˆê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ ê°œë°œìê°€ **C++**ëŒ€ì‹ ì— **C#**ì„ ì´ìš©í•´ ê°œë°œì„ í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.

> **ì°¸ê³  ìë£Œ** : [Is Unity Engine written in Mono/C#? or C++](https://discussions.unity.com/t/is-unity-engine-written-in-mono-c-or-c/867)

ì´ëŠ” ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ì‹¤ì œ ê°ì²´ëŠ” C++ë¡œ êµ¬í˜„ë˜ì–´ìˆê³ , ìœ ë‹ˆí‹° ìƒì—ì„œ ë³´ì´ëŠ” ê°ì²´ëŠ” C#ìœ¼ë¡œ ë˜í•‘ë˜ì–´ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤.

<br>

ë”°ë¼ì„œ `C++` ê°ì²´ë¥¼ ë˜í•‘í•œ `C#` ê°ì²´ì¸ `UnityEngine.Object`ëŠ”

null checkë¥¼ í•  ë•Œ, ì§ì ‘ ì‹¤ì œ C# ê°ì²´ ë¿ ì•„ë‹ˆë¼ native c++ objectë˜í•œ nullì¸ì§€ ì•„ë‹Œì§€ íŒë‹¨í•˜ë„ë¡

`==` ì—°ì‚°ìì™€ `!=` ì—°ì‚°ìë¥¼ ì •ì˜í•˜ê³  ìˆë‹¤.

ì•„ë˜ëŠ” [**UnityTechnologies/UnityCsRefercne**ì—ì„œ í™•ì¸í•œ operatorë¥¼ ì •ì˜í•œ ë¶€ë¶„](https://github.com/Unity-Technologies/UnityCsReference/blob/b1c78d185a6f77aee1c1da32db971eaf1006f83e/Runtime/Export/Scripting/UnityEngineObject.bindings.cs#L616)ì´ë‹¤.

``` cs
public static bool operator==(Object x, Object y) { return CompareBaseObjects(x, y); }
public static bool operator!=(Object x, Object y) { return !CompareBaseObjects(x, y); }
```

`==`ì—°ì‚°ìì™€ `!=`ì—°ì‚°ìë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ, `CompareBaseObjects` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ìˆëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤.

ë˜í•œ ì•„ë˜ëŠ” [ê°™ì€ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í™•ì¸ ê°€ëŠ¥í•œ **CompareBaseObjects** ë©”ì„œë“œ ì „ë¬¸ì´ë‹¤.](https://github.com/Unity-Technologies/UnityCsReference/blob/b1c78d185a6f77aee1c1da32db971eaf1006f83e/Runtime/Export/Scripting/UnityEngineObject.bindings.cs#L124)ì´ë‹¤.

``` cs
static bool CompareBaseObjects(UnityEngine.Object lhs, UnityEngine.Object rhs)
{
    bool lhsNull = ((object)lhs) == null;
    bool rhsNull = ((object)rhs) == null;

    if (rhsNull && lhsNull) return true;

    if (rhsNull) return !IsNativeObjectAlive(lhs);
    if (lhsNull) return !IsNativeObjectAlive(rhs);

    return lhs.m_InstanceID == rhs.m_InstanceID;
}
```

ì½”ë“œë¥¼ ë³´ë©´ C# ì—ì„œ nullì„ ì²´í¬í•˜ëŠ” ë¶€ë¶„ë„ ìˆê³ ,

C++ì—ì„œ nullì„ ì²´í¬í•˜ëŠ” ë¶€ë¶„ (`IsNativeObjectAlive`)ë„ ìˆëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤.

<br>

<span class="post-hightlight">Fake null</span>ì€ ìœ„ì—ì„œ ê¸°ìˆ í•œ

`UnityEngine.Object`ì˜ **C++ ê°ì²´**ë¥¼ ë˜í•‘í•œ **C# ê°ì²´**ë¼ëŠ” íŠ¹ì§•ë•Œë¬¸ì— ë°œìƒí•œë‹¤.

í”„ë¡œê·¸ë˜ë°ì„ í•˜ë‹¤ë³´ë©´ ì¢…ì¢… ***UnityEngine.Objectì˜ C++ ê°ì²´ëŠ” ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë˜ì—ˆëŠ”ë°**

**C# ê°ì²´ëŠ” ì•„ì§ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œ ë˜ì§€ ì•Šì€ ìƒí™©ì„ ë³¼ ìˆ˜ ìˆë‹¤.**

ëŒ€í‘œì ìœ¼ë¡œëŠ” ë‹¤ìŒ ê²½ìš°ë“¤ì´ ìˆë‹¤.

* ë³€ìˆ˜ì˜ ì ‘ê·¼ í•œì •ìë¥¼ Publicìœ¼ë¡œ ì„¤ì •í•˜ê±°ë‚˜, \[SerializeField\]ë¡œ ì„ ì–¸í•˜ê³ , ê°’ì„ ì´ˆê¸°í™”í•´ì£¼ì§€ ì•Šì€ ê²½ìš°

* `Destroy()` ë˜ëŠ” `DestroyImmediate()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ê°ì²´ë¥¼ ì œê±°í•˜ëŠ” ê²½ìš°

ì˜ˆë¥¼ ë“¤ì–´, `Destroy()` ë©”ì„œë“œë¡œ ê°ì²´ë¥¼ ì‚­ì œí•œë‹¤ê³  í•˜ë©´, ì•„ë˜ ì²˜ëŸ¼ ì²˜ë¦¬ ëœë‹¤.

| ì˜¤ë¸Œì íŠ¸ | ì„¤ëª… |
|:---:|:---|
| **`Native C++ Object`** | ë©”ëª¨ë¦¬ í•´ì œ. ë°”ë¡œ ì‚­ì œ ë¨. |
| **`UnityEngine.Object`** | ë©”ëª¨ë¦¬ í•´ì œ ë˜ì§€ ì•ŠìŒ. *ë‚˜ì¤‘ì— ê°€ë¹„ì§€ ì½œë ‰í„°ê°€ í•´ì œ í•¨.* |

ì´ëŸ° ìƒíƒœë¥¼ <span class="post-hightlight">Fake null</span> ìƒíƒœë¼ê³  í•˜ë©°,

ì´ ìƒíƒœ ë•Œë¬¸ì— Unityì—ì„œ Null ì²´í¬ë¥¼ í•  ë•Œì—ëŠ” í•­ìƒ ì¡°ì‹¬í•´ì•¼ í•œë‹¤.

<br>

---

<span class="post-h1">FAKE NULL</span>

Fake nullì¸ ìƒíƒœì—ì„œ, `gameObject == null` ì´ë¼ëŠ” ì½”ë“œë¡œ ê²€ì‚¬ë¥¼ í•œë‹¤ê³  í•˜ì.

ì´ ê²½ìš°, ì•ì„œ ì„¤ëª…í•œëŒ€ë¡œ `UnityEngine.Object`ì—ì„œëŠ” **==** ì—°ì‚°ìë¥¼ êµ¬í˜„í•˜ì˜€ìœ¼ë¯€ë¡œ,

C# ê°ì²´ê°€ ë¹„ì–´ìˆëŠ”ì§€ì™€ C++ê°ì²´ê°€ ë¹„ì–´ìˆëŠ”ì§€ë¥¼ ëª¨ë‘ í™•ì¸í•˜ê²Œ ëœë‹¤.

ì´ëŠ” ê³§ ì˜ ë§ì•„ ë–¨ì–´ì§„ë‹¤.


---

<br>

<span class="post-h1">ì„±ëŠ¥ ì¸¡ì •</span>

<center>
<img src="{{img_url}}/img_1.png" style="width:538px; max-width:100%">
<figcaption style="margin-top:-20px;">ê° Null Check ë°©ì‹ë³„ í¼í¬ë¨¼ìŠ¤ ì°¨ì´</figcaption>
</center>

<details>
<summary>ì„±ëŠ¥ ì¸¡ì • í…ŒìŠ¤íŠ¸ ì½”ë“œ</summary>
<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="k">using</span> <span class="nn">System.Diagnostics</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">PerformanceTester</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">GameObject</span> <span class="n">QuizObject</span><span class="p">;</span>           <span class="c1">// Null Checkë¥¼ ìœ„í•´ ì‚¬ìš©ë  GameObject</span>

    <span class="k">private</span> <span class="k">readonly</span> <span class="kt">int</span> <span class="n">count</span> <span class="p">=</span> <span class="m">100000000</span><span class="p">;</span> <span class="c1">// í¼í¬ë¨¼ìŠ¤ ì¸¡ì •ì„ ìœ„í•´ ì—°ì‚°ì„ ë°˜ë³µí•  íšŸìˆ˜</span>

    <span class="c1">//=====================================================================================</span>
    <span class="c1">//  == ì—°ì‚°ìë¥¼ ì´ìš©í•´ì„œ Null Check í•˜ëŠ” ë©”ì„œë“œ</span>
    <span class="c1">//=====================================================================================</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">NullCheck_EqualOperation_UnityEngineObject</span><span class="p">(</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">count</span> <span class="p">;</span> <span class="n">i</span><span class="p">++</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">obj</span> <span class="p">==</span> <span class="k">null</span> <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">//=====================================================================================</span>
    <span class="c1">//  == ì—°ì‚°ìë¥¼ ì´ìš©í•´ì„œ Null Check í•˜ëŠ” ë©”ì„œë“œ</span>
    <span class="c1">//=====================================================================================</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">NullCheck_EqualOperation_SystemObject</span><span class="p">(</span> <span class="kt">object</span> <span class="n">obj</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">count</span> <span class="p">;</span> <span class="n">i</span><span class="p">++</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">obj</span> <span class="p">==</span> <span class="k">null</span> <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">//=====================================================================================</span>
    <span class="c1">//  ifë¬¸ ì•ˆì— ì§ì ‘ ë„£ì–´ì„œ Null Check í•˜ëŠ” ë©”ì„œë“œ</span>
    <span class="c1">//=====================================================================================</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">NullCheck_JustIf_UnityEngineObject</span><span class="p">(</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">count</span> <span class="p">;</span> <span class="n">i</span><span class="p">++</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">obj</span> <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">//=====================================================================================</span>
    <span class="c1">//  is ì—°ì‚°ìë¥¼ ì´ìš©í•´ì„œ Null Check í•˜ëŠ” ë©”ì„œë“œ</span>
    <span class="c1">//=====================================================================================</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">NullCheck_Is_UnityEngineObject</span><span class="p">(</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">count</span> <span class="p">;</span> <span class="n">i</span><span class="p">++</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">obj</span> <span class="k">is</span> <span class="k">null</span> <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">//=====================================================================================</span>
    <span class="c1">//  is ì—°ì‚°ìë¥¼ ì´ìš©í•´ì„œ Null Check í•˜ëŠ” ë©”ì„œë“œ</span>
    <span class="c1">//=====================================================================================</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">NullCheck_Is_SystemObject</span><span class="p">(</span> <span class="kt">object</span> <span class="n">obj</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">count</span> <span class="p">;</span> <span class="n">i</span><span class="p">++</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">obj</span> <span class="k">is</span> <span class="k">null</span> <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">//=====================================================================================</span>
    <span class="c1">//  object.ReferenceEqualsë¥¼ ì´ìš©í•´ì„œ Null Check í•˜ëŠ” ë©”ì„œë“œ</span>
    <span class="c1">//=====================================================================================</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">NullCheck_ReferenceEquals_SystemObject</span><span class="p">(</span> <span class="kt">object</span> <span class="n">obj</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">count</span> <span class="p">;</span> <span class="n">i</span><span class="p">++</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="kt">object</span><span class="p">.</span><span class="nf">ReferenceEquals</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="k">null</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">//=====================================================================================</span>
    <span class="c1">//  Stopwatchë¥¼ ì´ìš©í•´ì„œ, ì´ ì—°ì‚°ì— ë“¤ì–´ê°„ milli second ì¸¡ì •</span>
    <span class="c1">//=====================================================================================</span>
    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">stopwatch</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Stopwatch</span><span class="p">();</span>

        <span class="c1">// == ë¹„êµ ì—°ì‚°ìì˜ ì„±ëŠ¥ ì¸¡ì •</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
        <span class="nf">NullCheck_EqualOperation_UnityEngineObject</span><span class="p">(</span><span class="n">QuizObject</span><span class="p">);</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Stop</span><span class="p">();</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"== ì—°ì‚°ì &lt;color=cyan&gt;(UnityEngine.Object)&lt;/color&gt; : "</span> <span class="p">+</span>
              <span class="s">$"</span><span class="p">{</span><span class="n">stopwatch</span><span class="p">.</span><span class="n">ElapsedMilliseconds</span><span class="p">}</span><span class="s">ms"</span><span class="p">);</span>

        <span class="c1">// == ë¹„êµ ì—°ì‚°ìì˜ ì„±ëŠ¥ ì¸¡ì •</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
        <span class="nf">NullCheck_EqualOperation_SystemObject</span><span class="p">(</span><span class="n">QuizObject</span><span class="p">);</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Stop</span><span class="p">();</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"== ì—°ì‚°ì &lt;color=yellow&gt;(System.Object)&lt;/color&gt; : "</span> <span class="p">+</span>
              <span class="s">$"</span><span class="p">{</span><span class="n">stopwatch</span><span class="p">.</span><span class="n">ElapsedMilliseconds</span><span class="p">}</span><span class="s">ms"</span><span class="p">);</span>

        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Reset</span><span class="p">();</span>

        <span class="c1">// NullCheck_Is</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
        <span class="nf">NullCheck_Is_UnityEngineObject</span><span class="p">(</span><span class="n">QuizObject</span><span class="p">);</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Stop</span><span class="p">();</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"is ì—°ì‚°ì &lt;color=cyan&gt;(UnityEngine.Object)&lt;/color&gt; : "</span> <span class="p">+</span>
              <span class="s">$"</span><span class="p">{</span><span class="n">stopwatch</span><span class="p">.</span><span class="n">ElapsedMilliseconds</span><span class="p">}</span><span class="s">ms"</span><span class="p">);</span>

        <span class="c1">// NullCheck_Is</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
        <span class="nf">NullCheck_Is_SystemObject</span><span class="p">(</span><span class="n">QuizObject</span><span class="p">);</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Stop</span><span class="p">();</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"is ì—°ì‚°ì &lt;color=yellow&gt;(System.object)&lt;/color&gt; : "</span> <span class="p">+</span>
              <span class="s">$"</span><span class="p">{</span><span class="n">stopwatch</span><span class="p">.</span><span class="n">ElapsedMilliseconds</span><span class="p">}</span><span class="s">ms"</span><span class="p">);</span>

        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Reset</span><span class="p">();</span>

        <span class="c1">// NullCheck_JustIf</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
        <span class="nf">NullCheck_JustIf_UnityEngineObject</span><span class="p">(</span><span class="n">QuizObject</span><span class="p">);</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Stop</span><span class="p">();</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"just if ë©”ì„œë“œ &lt;color=cyan&gt;(UnityEngine.Object)&lt;/color&gt; : "</span> <span class="p">+</span>
              <span class="s">$"</span><span class="p">{</span><span class="n">stopwatch</span><span class="p">.</span><span class="n">ElapsedMilliseconds</span><span class="p">}</span><span class="s">ms"</span><span class="p">);</span>

        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Reset</span><span class="p">();</span>

        <span class="c1">// NullCheck_object.ReferenceEquals</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
        <span class="nf">NullCheck_ReferenceEquals_SystemObject</span><span class="p">(</span><span class="n">QuizObject</span><span class="p">);</span>
        <span class="n">stopwatch</span><span class="p">.</span><span class="nf">Stop</span><span class="p">();</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"object.ReferenceEquals ë©”ì„œë“œ &lt;color=yellow&gt;(System.Object)&lt;/color&gt; : "</span> <span class="p">+</span>
              <span class="s">$"</span><span class="p">{</span><span class="n">stopwatch</span><span class="p">.</span><span class="n">ElapsedMilliseconds</span><span class="p">}</span><span class="s">ms"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
</details>